<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrueNAS MCP Server | TrueNAS Research Labs</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #0095d5 0%, #0067b8 100%);
            color: white;
            padding: 40px;
        }

        header .header-content {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        header .logo {
            width: 70px;
            height: 70px;
            flex-shrink: 0;
        }

        header .header-text {
            flex: 1;
            text-align: left;
        }

        header .breadcrumb {
            font-size: 0.9em;
            margin-bottom: 15px;
            opacity: 0.9;
        }

        header .breadcrumb a {
            color: white;
            text-decoration: none;
        }

        header .breadcrumb a:hover {
            text-decoration: underline;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        header .status {
            display: inline-block;
            padding: 8px 20px;
            background: #ffc107;
            color: #333;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin-top: 10px;
        }

        main {
            padding: 40px;
        }

        section {
            margin-bottom: 40px;
        }

        h2 {
            color: #0067b8;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #0095d5;
        }

        h3 {
            color: #0067b8;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        p {
            margin-bottom: 15px;
        }

        .info-box {
            background: #f8f9fa;
            border-left: 4px solid #0095d5;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .info-box h3 {
            margin-top: 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: #0095d5;
            box-shadow: 0 5px 15px rgba(0, 149, 213, 0.1);
        }

        .feature-card h4 {
            color: #0067b8;
            margin-bottom: 10px;
        }

        .feature-card p {
            color: #666;
            font-size: 0.95em;
            margin-bottom: 0;
        }

        ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 8px;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .tech-badge {
            background: #0095d5;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }

        .cta-section {
            background: linear-gradient(135deg, #0095d5 0%, #0067b8 100%);
            color: white;
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            margin-top: 40px;
        }

        .cta-section h3 {
            color: white;
            border: none;
            margin-bottom: 15px;
        }

        .cta-section p {
            margin-bottom: 0;
        }

        .back-link {
            display: inline-block;
            color: #0095d5;
            text-decoration: none;
            font-weight: bold;
            margin-bottom: 20px;
            transition: color 0.3s ease;
        }

        .back-link:hover {
            color: #0067b8;
            text-decoration: underline;
        }

        footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
            border-top: 1px solid #e0e0e0;
        }

        footer a {
            color: #0095d5;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="breadcrumb">
                <a href="../index.html">&larr; Back to Research Labs</a>
            </div>
            <div class="header-content">
                <img src="../assets/truenas-logo.png" alt="TrueNAS Logo" class="logo">
                <div class="header-text">
                    <h1>TrueNAS MCP Server</h1>
                    <p>AI-powered automation and management for TrueNAS systems through natural language</p>
                    <span class="status">Research Preview</span>
                </div>
            </div>
        </header>

        <main>
            <section class="overview">
                <h2>Overview</h2>
                <p>
                    The TrueNAS MCP Server is a Model Context Protocol implementation that enables AI models
                    to manage TrueNAS systems through natural language. This research preview allows you to
                    interact with your TrueNAS storage using AI assistants like Claude, providing comprehensive
                    management capabilities through simple conversational commands.
                </p>
                <p>
                    By leveraging MCP, the server provides a semantic layer on top of the TrueNAS API,
                    allowing AI models to understand storage concepts, make informed decisions, and automate
                    complex storage management tasks. The server runs as a native binary on your desktop and
                    securely connects to your TrueNAS system without requiring any deployment to TrueNAS itself.
                </p>
                <div class="info-box" style="background: #fff3cd; border-left-color: #ffc107;">
                    <p style="margin: 0;">
                        <strong>‚ö†Ô∏è Research Preview:</strong> This project is currently in research preview and
                        is not recommended for production use.
                    </p>
                </div>
            </section>

            <section class="goals">
                <h2>Project Goals</h2>
                <div class="info-box">
                    <p>This research project aims to:</p>
                    <ul>
                        <li>Enable natural language interaction with TrueNAS systems through AI assistants</li>
                        <li>Automate routine storage management tasks using intelligent agents</li>
                        <li>Provide a standardized interface for third-party integrations</li>
                        <li>Explore use cases for AI-assisted storage operations and troubleshooting</li>
                        <li>Create a foundation for future intelligent storage management features</li>
                    </ul>
                </div>
            </section>

            <section class="features">
                <h2>Core Features</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>System Monitoring</h4>
                        <p>System information, health status, alerts, and comprehensive performance metrics for CPU, memory, disk I/O, and network.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Storage Management</h4>
                        <p>Pool management, dataset operations, snapshot handling, and file sharing configuration for SMB, NFS, and iSCSI.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Virtual Machines</h4>
                        <p>Complete VM management including creation, configuration, lifecycle control, and resource monitoring.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Directory Services</h4>
                        <p>Integration with Active Directory, LDAP, and FreeIPA for centralized authentication and user management.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Capacity Planning</h4>
                        <p>Utilization analysis, trend forecasting, and intelligent recommendations for storage capacity planning.</p>
                    </div>
                    <div class="feature-card">
                        <h4>System Maintenance</h4>
                        <p>Update management, scrub operations, boot environment control, and automated maintenance tasks.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Application Management</h4>
                        <p>Install, upgrade, and manage TrueNAS applications with task tracking and progress monitoring.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Smart Filtering</h4>
                        <p>Query datasets, snapshots, and VMs with intelligent filters and sorting capabilities.</p>
                    </div>
                </div>

                <h3>Safety Features</h3>
                <ul>
                    <li><strong>Dry-Run Mode:</strong> Preview changes before execution with warnings and estimated execution time</li>
                    <li><strong>Built-in Validation:</strong> Prevents dangerous operations with automatic safety checks</li>
                    <li><strong>Task Tracking:</strong> Monitor long-running operations with automatic background tracking and progress updates</li>
                </ul>
            </section>

            <section class="architecture">
                <h2>Technical Architecture</h2>
                <p>
                    The TrueNAS MCP Server uses a single native binary running on your desktop that connects
                    securely to TrueNAS middleware via WebSocket (wss://). This design requires no deployment
                    to TrueNAS itself, supports self-signed certificates, works cross-platform, and protects
                    API keys through mandatory encryption.
                </p>

                <h3>Technology Stack</h3>
                <div class="tech-stack">
                    <span class="tech-badge">Model Context Protocol</span>
                    <span class="tech-badge">Go</span>
                    <span class="tech-badge">Native Binary</span>
                    <span class="tech-badge">WebSocket (WSS)</span>
                    <span class="tech-badge">TrueNAS Middleware API</span>
                </div>

                <h3>Architecture Benefits</h3>
                <ul>
                    <li><strong>No TrueNAS Deployment:</strong> Runs entirely on your local machine, no installation on TrueNAS required</li>
                    <li><strong>Secure by Default:</strong> Enforces encrypted connections (wss://) to protect API keys</li>
                    <li><strong>Cross-Platform:</strong> Native binaries available for macOS (ARM/Intel), Linux, and Windows</li>
                    <li><strong>Self-Signed Certificate Support:</strong> Works with TrueNAS systems using self-signed certificates</li>
                    <li><strong>Lightweight:</strong> Single binary with no runtime dependencies</li>
                </ul>

                <h3>Security Requirements</h3>
                <div class="info-box" style="background: #fff3cd; border-left-color: #dc3545;">
                    <p style="margin: 0;">
                        <strong>üîí Important:</strong> TrueNAS requires encrypted connections (wss://) for API key
                        authentication. Using unencrypted ws:// will cause your API key to be revoked. The MCP server
                        enforces this security measure by default.
                    </p>
                </div>
            </section>

            <section class="installation">
                <h2>Installation</h2>

                <h3>1. Obtain Binary</h3>
                <p>
                    Download the platform-specific executable from the
                    <a href="https://github.com/truenas/truenas-mcp/releases" target="_blank">GitHub releases page</a>:
                </p>
                <ul>
                    <li>macOS ARM (Apple Silicon)</li>
                    <li>macOS Intel</li>
                    <li>Linux (x86_64)</li>
                    <li>Windows</li>
                </ul>
                <p>Place the binary in your system PATH for easy access.</p>

                <h3>2. Generate API Key</h3>
                <p>
                    In the TrueNAS web interface:
                </p>
                <ol style="margin-left: 20px;">
                    <li>Navigate to System Settings ‚Üí API Keys</li>
                    <li>Click "Add" to create a new API key</li>
                    <li>Grant appropriate permissions based on your use case</li>
                    <li>Save the API key securely - you'll need it for configuration</li>
                </ol>

                <h3>3. Configure MCP Client</h3>
                <p>
                    Edit your MCP client configuration file (e.g., Claude Desktop, Claude Code) to include:
                </p>
                <pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; overflow-x: auto; font-family: 'Courier New', monospace; font-size: 0.9em;">
{
  "mcpServers": {
    "truenas": {
      "command": "truenas-mcp",
      "args": [
        "--truenas-url", "wss://your-truenas-ip",
        "--api-key", "your-api-key-here"
      ]
    }
  }
}</pre>
                <p>
                    Alternatively, use environment variables:
                </p>
                <ul>
                    <li><code style="background: #f8f9fa; padding: 2px 6px; border-radius: 3px;">TRUENAS_URL</code> - Your TrueNAS WebSocket URL</li>
                    <li><code style="background: #f8f9fa; padding: 2px 6px; border-radius: 3px;">TRUENAS_API_KEY</code> - Your API key</li>
                </ul>

                <h3>4. Restart MCP Client</h3>
                <p>
                    Restart Claude Desktop or Claude Code to load the MCP server. Once connected, you can start
                    managing your TrueNAS system through natural language commands.
                </p>
            </section>

            <section class="use-cases">
                <h2>Example Use Cases</h2>
                <p>
                    Natural language queries and commands you can use with the TrueNAS MCP Server:
                </p>

                <h3>System Monitoring</h3>
                <ul>
                    <li>"What version of TrueNAS am I running?"</li>
                    <li>"Show me any active alerts on the system"</li>
                    <li>"What's the current CPU and memory usage?"</li>
                    <li>"How much disk space is available?"</li>
                </ul>

                <h3>Storage Management</h3>
                <ul>
                    <li>"What's the health status of my storage pools?"</li>
                    <li>"Show me all datasets and how much space they're using"</li>
                    <li>"List all snapshots on my main pool"</li>
                    <li>"Create a new dataset for video storage with compression enabled"</li>
                </ul>

                <h3>Maintenance Operations</h3>
                <ul>
                    <li>"Are there any system updates available?"</li>
                    <li>"What's the status of the last scrub operation?"</li>
                    <li>"List all boot environments"</li>
                    <li>"When was the last backup completed?"</li>
                </ul>

                <h3>Application Management</h3>
                <ul>
                    <li>"Show me all installed applications"</li>
                    <li>"Upgrade the Plex application"</li>
                    <li>"What's the status of my running apps?"</li>
                </ul>

                <h3>Advanced Queries</h3>
                <ul>
                    <li>"Show me datasets using more than 80% of their quota"</li>
                    <li>"Which VMs are currently running?"</li>
                    <li>"Analyze storage trends over the past month"</li>
                    <li>"Preview creating a new SMB share" (using dry-run mode)</li>
                </ul>
            </section>

            <section class="status">
                <h2>Current Status</h2>
                <div class="info-box">
                    <h3>Research Preview - Available Now</h3>
                    <p>
                        The TrueNAS MCP Server is currently available as a research preview. While it provides
                        comprehensive functionality across monitoring, storage management, VMs, directory services,
                        capacity planning, maintenance, and application management, it is not yet recommended for
                        production use.
                    </p>
                    <p>
                        <strong>What's Available:</strong>
                    </p>
                    <ul>
                        <li>‚úÖ Complete MCP server implementation with native binaries</li>
                        <li>‚úÖ Full TrueNAS middleware API integration</li>
                        <li>‚úÖ 8 core feature categories with comprehensive capabilities</li>
                        <li>‚úÖ Security features including encrypted connections and API key protection</li>
                        <li>‚úÖ Task tracking for long-running operations</li>
                        <li>‚úÖ Dry-run mode for safe change previews</li>
                        <li>‚úÖ Cross-platform support (macOS, Linux, Windows)</li>
                        <li>‚úÖ Documentation and usage examples</li>
                    </ul>
                    <p>
                        <strong>Getting Started:</strong> Download the binary from the
                        <a href="https://github.com/truenas/truenas-mcp" target="_blank">GitHub repository</a>
                        and follow the installation instructions above.
                    </p>
                </div>
            </section>

            <div class="cta-section">
                <h3>Get Started Today</h3>
                <p>
                    The TrueNAS MCP Server is available now as a research preview. Visit the
                    <a href="https://github.com/truenas/truenas-mcp" target="_blank" style="color: white; text-decoration: underline;">GitHub repository</a>
                    to download the latest release, view the documentation, and join the community.
                </p>
            </div>
        </main>

        <footer>
            <p>
                <a href="../index.html">TrueNAS Research Labs</a> |
                <a href="https://github.com/truenas/truenas-mcp" target="_blank">GitHub Repository</a> |
                <a href="https://www.truenas.com" target="_blank">TrueNAS.com</a>
            </p>
        </footer>
    </div>
</body>
</html>
